<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Deployment Automation for Goerli testnet in 10 minutes :: Priom Chowdhury</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Hello world, happy new year to everyone. Hope you are having a great start to 2019.
Today, I’m going to share a short tutorial to quickly deploy the new Goerli Proof-of-Authority cross-client test network which was originally developed at [ETHBerlin](https://ethberlin.com) in September 2018 and then we, Afri (@5chdn) and ChainSafe (@chainsafeth), have been actively developing Goerli. As of now, Goerli is supported in Geth, Parity, Pantheon, Nethermind and EthereumJS. If you would like to follow the current development of Goerli, fork the Goerli testnet repo." />
<meta name="keywords" content="priom, chainafe, blockchain, devops, developer, web3, decentralized systesm, distributed systems, toronto, canada" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="../../blog/deployment-automation-for-goerli-testnet-in-10-minutes/" />


<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y6X6QFNNHQ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-Y6X6QFNNHQ', { 'anonymize_ip': false });
}
</script>



<link rel="stylesheet" href="../../assets/style.css">

  <link rel="stylesheet" href="../../assets/green.css">






<link rel="apple-touch-icon" href="../../img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="../../favicon.ico">



<meta name="twitter:card" content="summary" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Deployment Automation for Goerli testnet in 10 minutes">
<meta property="og:description" content="Hello world, happy new year to everyone. Hope you are having a great start to 2019.
Today, I’m going to share a short tutorial to quickly deploy the new Goerli Proof-of-Authority cross-client test network which was originally developed at [ETHBerlin](https://ethberlin.com) in September 2018 and then we, Afri (@5chdn) and ChainSafe (@chainsafeth), have been actively developing Goerli. As of now, Goerli is supported in Geth, Parity, Pantheon, Nethermind and EthereumJS. If you would like to follow the current development of Goerli, fork the Goerli testnet repo." />
<meta property="og:url" content="/blog/deployment-automation-for-goerli-testnet-in-10-minutes/" />
<meta property="og:site_name" content="Priom Chowdhury" />

  
    <meta property="og:image" content="/favicon.ico">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2019-01-08 00:00:00 &#43;0000 UTC" />












</head>
<body class="green">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="../../">
  <div class="logo">
    PRIOM
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="../../">About</a></li>
        
      
        
          <li><a href="../../blog">Blog</a></li>
        
      
        
          <li><a href="https://github.com/priom">GitHub</a></li>
        
      
        
          <li><a href="https://linkedin.com/in/priomchowdhury">LinkedIn</a></li>
        
      
        
          <li><a href="https://twitter.com/pri0m">Twitter</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="../../">About</a></li>
      
    
      
        <li><a href="../../blog">Blog</a></li>
      
    
      
        <li><a href="https://github.com/priom">GitHub</a></li>
      
    
      
        <li><a href="https://linkedin.com/in/priomchowdhury">LinkedIn</a></li>
      
    
      
        <li><a href="https://twitter.com/pri0m">Twitter</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="../../blog/deployment-automation-for-goerli-testnet-in-10-minutes/">Deployment Automation for Goerli testnet in 10 minutes</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2019-01-08 
      </span>
    
    
    <span class="post-author">:: Priom</span>
    
  </div>

  

  

  

  <div class="post-content"><div>
        <p>Hello world, happy new year to everyone. Hope you are having a great start to 2019.</p>
<h3 id="today-im-going-to-share-a-short-tutorial-to-quickly-deploy-the-new-goerlihttpsgoerlicom-proof-of-authority-cross-client-test-network-which-was-originally-developed-at-ethberlinhttpsethberlincom-in-september-2018-and-then-we-afrihttpstwittercom5chdn-5chdn-and-chainsafehttpstwittercomchainsafeth-chainsafeth-have-been-actively-developing-goerli-as-of-now-goerli-is-supported-in-gethhttpsgithubcomethereumgo-ethereum-parityhttpsgithubcomparitytechparity-ethereum-pantheonhttpsgithubcompegasysengpantheon-nethermindhttpsgithubcomnethermindethnethermind-and-ethereumjshttpsgithubcomethereumjsethereumjs-client">Today, I’m going to share a short tutorial to quickly deploy the new <strong><a href="https://goerli.com">Goerli</a></strong> Proof-of-Authority cross-client test network which was originally developed at [<strong>ETHBerlin]</strong>(<a href="https://ethberlin.com">https://ethberlin.com</a>) in September 2018 and then we, <a href="https://twitter.com/5chdn">Afri</a> (@5chdn) and <a href="https://twitter.com/chainsafeth">ChainSafe</a> (@chainsafeth), have been actively developing <strong>Goerli</strong>. As of now, Goerli <strong>is</strong> supported in <a href="https://github.com/ethereum/g**o-ethereum">Geth</a>, <a href="https://github.com/paritytech/parity-ethereum">Parity</a>, <a href="https://github.com/PegaSysEng/pantheon">Pantheon</a>, <a href="https://github.com/NethermindEth/nethermind">Nethermind</a> and <a href="https://github.com/ethereumjs/ethereumjs-client"><strong>EthereumJS</strong></a>.<a href="#today-im-going-to-share-a-short-tutorial-to-quickly-deploy-the-new-goerlihttpsgoerlicom-proof-of-authority-cross-client-test-network-which-was-originally-developed-at-ethberlinhttpsethberlincom-in-september-2018-and-then-we-afrihttpstwittercom5chdn-5chdn-and-chainsafehttpstwittercomchainsafeth-chainsafeth-have-been-actively-developing-goerli-as-of-now-goerli-is-supported-in-gethhttpsgithubcomethereumgo-ethereum-parityhttpsgithubcomparitytechparity-ethereum-pantheonhttpsgithubcompegasysengpantheon-nethermindhttpsgithubcomnethermindethnethermind-and-ethereumjshttpsgithubcomethereumjsethereumjs-client" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h4 id="if-you-would-like-to-follow-the-current-development-of-goerli-fork-the-goerli-testnet-repohttpsgithubcomgoerlitestnet">If you would like to follow the current development of <strong>Goerli</strong>, fork the <strong>Goerli</strong> testnet <a href="https://github.com/goerli/testnet">repo</a>.<a href="#if-you-would-like-to-follow-the-current-development-of-goerli-fork-the-goerli-testnet-repohttpsgithubcomgoerlitestnet" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p><img src="https://cdn-images-1.medium.com/max/4000/1*2IvbXbp80TjyqbGKJMIuoQ.jpeg" alt="ETHBerlin — Goerli Demo"></p>
<p>Let’s get started. These steps will work on any <strong>UNIX system (Mac &amp; Linux).</strong> First, go ahead and create a <strong>GCP (Google Cloud Platform)</strong> account <a href="https://cloud.google.com/">here</a> and then create a project. By default, Google gives $300 worth of free credits for a year.</p>
<p>Then, we need <a href="https://www.terraform.io/">Terraform</a>, it is an open source tool to easily create reusable and modular infrastructure deployment automation code.</p>
<p>To install it on <strong>Mac,</strong> you can use <a href="https://brew.sh/">brew</a>, if you don’t have <strong>brew</strong>, you can install it using this script. Once, you are done, then go ahead and install using the next command.</p>
<pre><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;

brew install terraform
</code></pre><p>If you are on any <strong>Linux,</strong> follow the quick walkthrough <a href="https://learn.hashicorp.com/terraform/getting-started/install.html"><em>here</em></a> to install Terraform. <strong>Terraform</strong> has some excellent documentation on how to get up and running quickly.</p>
<p>Next step, you have to create a <em>service account key</em> in GCP.</p>
<p><img src="https://cdn-images-1.medium.com/max/806/1*QW8rRWOD6N_05jZ576x4rA.png" alt="GCP IAM"></p>
<p>On the creation screen, give it a name and description. For the role access, make sure you give it <strong><em>Compute Engine Admin</em></strong> role. Next, create your key and download the <strong><em>JSON</em></strong> key. Make sure to <strong><em>securely</em></strong> store this file, this file is <strong><em>very very private and sensitive</em></strong>! And <strong><em>DO NOT EVER PUSH THIS FILE TO YOUR PUBLIC REPO!</em></strong></p>
<p><img src="https://cdn-images-1.medium.com/max/2560/1*fIB74o-aFsMmilzh9d3P7w.png" alt="GCP service account key creation"></p>
<p>Now that we have our necessary steps done, we will start writing our Terraform deployment script.</p>
<p>In your project directory, copy the <strong><em>JSON</em></strong> file which you just downloaded and then create a file called <strong><em>goerli.tf</em></strong> (you can name it whatever you want).</p>
<!-- raw HTML omitted -->
<p>This is what your Terraform file will look like. In the first block, we define the provider which is <em>google</em> for us, inside that we define the location for the <em>credentials.json</em> and your <em>project ID</em> which you will find in your project settings.</p>
<p>Next, we define our <em>virtual instance’s name, region, cpu, ram, hard disk, operating system, firewalls, and other necessary configs.</em></p>
<p>At the very bottom, we define our <em>startup script</em> where the list of commands will run after the virtual instance is created to do the basic housekeeping stuff like updating the <strong>OS</strong>, installing <a href="https://nodejs.org"><strong>Node.js</strong></a> and <a href="https://geth.ethereum.org/">Geth</a> (the client which will be running Goerli at).</p>
<p>Now, in your terminal, run the command:</p>
<pre><code>terraform apply
</code></pre><p>And, you should see your instance is being created in the GCP compute engine console.</p>
<h4 id="congratulations-you-have-successfully-deployed-your-virtual-machine-on-the-cloud---">Congratulations, you have successfully deployed your virtual machine on the cloud! 👏 👏 👏<a href="#congratulations-you-have-successfully-deployed-your-virtual-machine-on-the-cloud---" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>Next, we will SSH into our newly created VM. GCP provides few ways to connect to your remote machine rather than traditional methods; creating and managing your SSH keys like other cloud providers so, we will use the <strong>gcloud</strong> utils. You need to have <strong>gcloud</strong> installed on your computer so, go ahead and follow the instructions <a href="https://cloud.google.com/sdk/install"><em>here</em></a>.</p>
<p><img src="https://cdn-images-1.medium.com/max/3052/1*3Hat1Xt8itUFxqFHI9qDVQ.png" alt="gcloud command in GCP console"></p>
<p>Once, you SSH’d into your VM, go ahead and clone the <strong>Goerli</strong> testnet repo from <a href="https://github.com/goerli/testnet">Github</a> into your home directory and then we will run a few commands.</p>
<pre><code>geth init ./testnet/geth/goerli.genesis
</code></pre><p>This is to initialize <strong>Goerli</strong>’s <strong>Genesis</strong> block.</p>
<p>We are almost done, next, we will copy the <em>boot nodes (the IP addresses of the peer nodes)</em> to the <em><strong>geth</strong> data directory</em>.</p>
<pre><code>cp testnet/geth/static-nodes.json .ethereum
</code></pre><p>Now, we will boot up our <strong>Goerli</strong> node</p>
<pre><code>nohup geth --networkid 6284 &amp;
</code></pre><p>This will continue to run in the background. <em>6284</em> is the network ID of <strong>Goerli</strong> so when running Geth we need to specify as the — <em>goerli</em> hasn’t been merged to <strong>Geth</strong> master yet. Here is the <a href="https://github.com/ethereum/go-ethereum/pull/18121"><em>link</em></a> to the PR.</p>
<p>You will see a file called <em>nohup.out,</em> where it stores the log. Now, if you do:</p>
<pre><code>tail -f nohup.out
</code></pre><p>You should see the terminal output of <strong>Geth</strong> running the <strong>Goerli</strong> network.</p>
<h4 id="congrats-we-are-done-here-you-are-successfully-one-of-the-peers-in-the-goerli-network-">Congrats, we are done here, you are successfully one of the peers in the <strong>Goerli</strong> network! 🎉🎉🎉<a href="#congrats-we-are-done-here-you-are-successfully-one-of-the-peers-in-the-goerli-network-" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h4>
<p>You can use the same Terraform file by just tweaking a little bit to automate your deployment to any cloud provider like AWS, Azure, AliCloud, DigitalOcean, or even Heroku. You can also customize the current configuration to play with it.</p>
<p><strong>Here is a list of a few useful resources:</strong></p>
<blockquote>
<p><a href="https://github.com/ethereum/go-ethereum/wiki/geth"><strong>ethereum/go-ethereum</strong></a></p>
<p><!-- raw HTML omitted -->Official Go implementation of the Ethereum protocol - ethereum/go-ethereum<!-- raw HTML omitted --></p>
</blockquote>
<blockquote>
<p><a href="https://www.terraform.io/docs/providers/google/index.html"><strong>Provider: Google Cloud Platform - Terraform by HashiCorp</strong></a></p>
<p><!-- raw HTML omitted -->The Google provider is used to configure your Google Cloud Platform infrastructure<!-- raw HTML omitted --></p>
</blockquote>
<blockquote>
<p><a href="https://cloud.google.com/compute/docs/concepts"><strong>Concepts | Compute Engine | Google Cloud</strong></a></p>
<p><!-- raw HTML omitted -->Google Cloud delivers secure, open, intelligent, and transformative tools to help enterprises modernize for today&rsquo;s digital world.<!-- raw HTML omitted --></p>
</blockquote>
<hr>
<h3 id="if-you-like-this-article-please-give-some--if-you-have-any-questions-and-feedbacks-please-leave-comments-below-you-can-also-reach-me-in-twitterhttpstwittercompri0m-at-pri0mhttpstwittercompri0m-and-follow-me-on-githubhttpsgithubcompriom">If you like this article, please give some 👏🏻. If you have any questions and feedbacks, please leave comments below. You can also reach me in <a href="https://twitter.com/pri0m">Twitter</a> at @<a href="https://twitter.com/pri0m">pri0m</a> and follow me on <a href="https://github.com/priom">Github</a>.<a href="#if-you-like-this-article-please-give-some--if-you-have-any-questions-and-feedbacks-please-leave-comments-below-you-can-also-reach-me-in-twitterhttpstwittercompri0m-at-pri0mhttpstwittercompri0m-and-follow-me-on-githubhttpsgithubcompriom" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="follow-chainsafe-systemshttpsmediumcomu8bf3eecb7075-to-learn-more-about-ethereum-and-upcoming-development-updates-reach-out-to-us-in-twitterhttpstwittercomchainsafeth-at-chainsafethhttpstwittercomchainsafeth">Follow <a href="https://medium.com/u/8bf3eecb7075">ChainSafe Systems</a>, to learn more about Ethereum and upcoming development updates. Reach out to us in <a href="https://twitter.com/chainsafeth">Twitter</a> at <a href="https://twitter.com/chainsafeth">@chainsafeth</a>.<a href="#follow-chainsafe-systemshttpsmediumcomu8bf3eecb7075-to-learn-more-about-ethereum-and-upcoming-development-updates-reach-out-to-us-in-twitterhttpstwittercomchainsafeth-at-chainsafethhttpstwittercomchainsafeth" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>

      </div></div>

  

  

</div>

  </div>

  
    <footer class="footer">
    <div class="footer__inner">
      
        <div class="copyright copyright--user">
          <span> &copy; 2021 All Rights Reserved by Priom</span>
      
        </div>
    </div>
  </footer>
  
  <script src="../../assets/main.js"></script>
  <script src="../../assets/prism.js"></script>
  
  
  

  
  
</div>

</body>
</html>
